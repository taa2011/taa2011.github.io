<html lang="ru">

<head>
  <title>map</title>
  <script src='https://unpkg.com/maplibre-gl@2.1.9/dist/maplibre-gl.js'></script>
  <link href='https://unpkg.com/maplibre-gl@2.1.9/dist/maplibre-gl.css' rel='stylesheet' />

</head>

<body>

  <div id='map' style='width: 1400px; height: 900px;'></div>
  <nav id="filter-group" class="filter-group"></nav>
  <script>
    // var map = new maplibregl.Map({
    //   container: 'map',
    //   style: 'https://demotiles.maplibre.org/style.json', // stylesheet location
    //   center: [-74.5, 40], // starting position [lng, lat]
    //   zoom: 9 // starting zoom
    // });


    const style = {
      "version": 8,
      "sources": {
        "osm": {
          "type": "raster",
          "tiles": ["https://a.tile.openstreetmap.org/{z}/{x}/{y}.png"],
          "tileSize": 256,
          //"attribution": "&copy; OpenStreetMap Contributors",
          "maxzoom": 19
        },
        "kem_obl": {
          "type": "geojson",
          "data": "./kem_obl.geojson"
        }
      },
      "layers": [
        {
          "id": "osm",
          "type": "raster",
          "source": "osm" // This must match the source key above
        },
        {
          "id": "kem_obl",
          "type": "line",
          "source": "kem_obl"
        }
      ]
    };

    var places = {
      'type': 'FeatureCollection',
      'features': [
        {
          'type': 'Feature',
          'properties': {
            'icon': 'theatre'
          },
          'geometry': {
            'type': 'Point',
            'coordinates': [-77.038659, 38.931567]
          }
        },
        {
          'type': 'Feature',
          'properties': {
            'icon': 'theatre'
          },
          'geometry': {
            'type': 'Point',
            'coordinates': [-77.003168, 38.894651]
          }
        },
        {
          'type': 'Feature',
          'properties': {
            'icon': 'bar'
          },
          'geometry': {
            'type': 'Point',
            'coordinates': [-77.090372, 38.881189]
          }
        },
        {
          'type': 'Feature',
          'properties': {
            'icon': 'bicycle'
          },
          'geometry': {
            'type': 'Point',
            'coordinates': [-77.052477, 38.943951]
          }
        },
        {
          'type': 'Feature',
          'properties': {
            'icon': 'music'
          },
          'geometry': {
            'type': 'Point',
            'coordinates': [-77.031706, 38.914581]
          }
        },
        {
          'type': 'Feature',
          'properties': {
            'icon': 'music'
          },
          'geometry': {
            'type': 'Point',
            'coordinates': [-77.020945, 38.878241]
          }
        },
        {
          'type': 'Feature',
          'properties': {
            'icon': 'music'
          },
          'geometry': {
            'type': 'Point',
            'coordinates': [-77.007481, 38.876516]
          }
        }
      ]
    };

    var filterGroup = document.getElementById('filter-group');
    // Initialise the map
    const map = new maplibregl.Map({
      container: 'map',
      style: style,
      center: [1, 15],
      zoom: 3
    });

    map.on('load', function () {
      // Add a GeoJSON source containing place coordinates and information.

      var input = document.createElement('input');
      input.type = 'checkbox';
      input.id = 'kem_obl';
      input.checked = true;
      filterGroup.appendChild(input);

      var label = document.createElement('label');
      label.setAttribute('for', 'kem_obl');
      label.textContent = 'K';
      filterGroup.appendChild(label);

      input.addEventListener('change', function (e) {
        map.setLayoutProperty(
          'kem_obl',
          'visibility',
          e.target.checked ? 'visible' : 'none'
        );
      });

    });









    // Add the navigation control
    map.addControl(new maplibregl.NavigationControl());

  </script>

</body>

</html>